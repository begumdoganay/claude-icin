<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Transactions | LUVY</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg-primary:#0f1419;--bg-secondary:#1a1f2e;--bg-tertiary:#252b3b;
  --text-primary:#ffffff;--text-secondary:#b4bcd0;--text-tertiary:#8b93a7;
  --accent-purple:#8b5cf6;--accent-blue:#3b82f6;--accent-green:#10b981;--accent-red:#ef4444;
  --border:#2d3748;--border-hover:#4a5568;
  --radius:8px;--radius-lg:12px;
}
body{font-family:'Inter',-apple-system,sans-serif;background:var(--bg-primary);color:var(--text-primary);-webkit-font-smoothing:antialiased}

/* Header */
header{background:var(--bg-secondary);border-bottom:1px solid var(--border);position:sticky;top:0;z-index:100}
.header-inner{max-width:1920px;margin:0 auto;padding:0 24px;height:60px;display:flex;align-items:center;justify-content:space-between}
.logo{display:flex;align-items:center;gap:10px;text-decoration:none}
.logo-mark{width:32px;height:32px;border-radius:var(--radius);background:linear-gradient(135deg,var(--accent-purple),var(--accent-blue));display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:16px}
.logo-text{font-size:16px;font-weight:700;color:var(--text-primary)}
.nav{display:flex;gap:4px}
.nav-link{color:var(--text-secondary);text-decoration:none;padding:8px 16px;border-radius:6px;font-size:14px;font-weight:500;transition:.15s}
.nav-link:hover{color:var(--text-primary);background:var(--bg-tertiary)}
.nav-link.active{color:var(--text-primary);background:var(--bg-tertiary)}
.header-right{display:flex;align-items:center;gap:16px}
.balance-badge{display:flex;align-items:center;gap:6px;background:var(--bg-tertiary);color:var(--text-primary);padding:8px 14px;border-radius:var(--radius);font-size:14px;font-weight:600;border:1px solid var(--border)}
.avatar{width:32px;height:32px;border-radius:50%;background:linear-gradient(135deg,var(--accent-purple),var(--accent-blue));display:flex;align-items:center;justify-content:center;color:#fff;font-size:13px;font-weight:600;cursor:pointer}

main{max-width:1400px;margin:0 auto;padding:32px 24px}

/* Page Header */
.page-header{margin-bottom:32px}
.page-title{font-size:32px;font-weight:700;margin-bottom:8px}
.page-subtitle{font-size:14px;color:var(--text-secondary)}

/* Stats Cards */
.stats-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:20px;margin-bottom:32px}
.stat-card{background:var(--bg-secondary);border:1px solid var(--border);border-radius:var(--radius-lg);padding:20px}
.stat-label{font-size:12px;color:var(--text-tertiary);text-transform:uppercase;letter-spacing:.05em;margin-bottom:8px}
.stat-value{font-size:32px;font-weight:700;margin-bottom:4px}
.stat-change{font-size:13px;font-weight:600}
.stat-change.up{color:var(--accent-green)}
.stat-change.down{color:var(--accent-red)}

/* Filters */
.filters{background:var(--bg-secondary);border:1px solid var(--border);border-radius:var(--radius-lg);padding:20px;margin-bottom:24px}
.filters-row{display:flex;gap:16px;align-items:center}
.filter-group{flex:1}
.filter-label{font-size:12px;color:var(--text-tertiary);margin-bottom:8px;text-transform:uppercase;letter-spacing:.05em}
.filter-input,.filter-select{width:100%;padding:10px 12px;background:var(--bg-tertiary);border:1px solid var(--border);border-radius:var(--radius);color:var(--text-primary);font-size:14px;font-family:inherit}
.filter-input:focus,.filter-select:focus{outline:none;border-color:var(--accent-purple)}
.filter-btn{padding:10px 20px;background:var(--accent-purple);color:#fff;border:none;border-radius:var(--radius);font-size:14px;font-weight:600;cursor:pointer;transition:.15s}
.filter-btn:hover{background:#7c3aed}

/* Transactions Table */
.transactions-card{background:var(--bg-secondary);border:1px solid var(--border);border-radius:var(--radius-lg);overflow:hidden}
.transactions-table{width:100%;border-collapse:collapse}
.transactions-table thead{background:var(--bg-tertiary);border-bottom:1px solid var(--border)}
.transactions-table th{padding:16px 20px;text-align:left;font-size:12px;font-weight:600;color:var(--text-tertiary);text-transform:uppercase;letter-spacing:.05em}
.transactions-table td{padding:16px 20px;border-bottom:1px solid var(--border);font-size:14px}
.transactions-table tbody tr{transition:.15s}
.transactions-table tbody tr:hover{background:var(--bg-tertiary)}
.transactions-table tbody tr:last-child td{border-bottom:none}

/* Transaction Details */
.tx-merchant{display:flex;align-items:center;gap:12px}
.tx-icon{width:40px;height:40px;border-radius:var(--radius);background:var(--bg-tertiary);display:flex;align-items:center;justify-content:center;font-size:20px}
.tx-info{flex:1}
.tx-name{font-size:14px;font-weight:600;color:var(--text-primary);margin-bottom:2px}
.tx-meta{font-size:12px;color:var(--text-tertiary)}
.tx-category{padding:4px 10px;background:var(--bg-tertiary);border-radius:99px;font-size:11px;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}
.tx-amount{font-size:15px;font-weight:700}
.tx-amount.positive{color:var(--accent-green)}
.tx-amount.negative{color:var(--accent-red)}
.tx-status{padding:4px 10px;border-radius:99px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.05em}
.tx-status.success{background:rgba(16,185,129,.15);color:var(--accent-green)}
.tx-status.pending{background:rgba(245,158,11,.15);color:#f59e0b}

@media(max-width:1200px){.stats-grid{grid-template-columns:repeat(2,1fr)}}
@media(max-width:768px){.stats-grid{grid-template-columns:1fr}.filters-row{flex-direction:column}}
</style>
</head>
<body>

<header>
  <div class="header-inner">
    <a href="dashboard.html" class="logo">
      <div class="logo-mark">L</div>
      <span class="logo-text">LUVY</span>
    </a>
    <nav class="nav">
      <a href="dashboard.html" class="nav-link">Dashboard</a>
      <a href="transactions.html" class="nav-link active">Transactions</a>
      <a href="upload-receipt.html" class="nav-link">Upload</a>
      <a href="analytics.html" class="nav-link">Analytics</a>
    </nav>
    <div class="header-right">
      <div class="balance-badge">ðŸ’Ž <span id="navBalance">124.70</span> LUVY</div>
      <div class="avatar" id="navAvatar" onclick="handleLogout()">B</div>
    </div>
  </div>
</header>

<main>
  <div class="page-header">
    <h1 class="page-title">Transactions</h1>
    <p class="page-subtitle">View and manage your receipt history</p>
  </div>

  <!-- Stats -->
  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-label">Total Transactions</div>
      <div class="stat-value">47</div>
      <div class="stat-change up">+8 this month</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Total Earned</div>
      <div class="stat-value">â‚¬124.70</div>
      <div class="stat-change up">+â‚¬12.40 (11%)</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Average Receipt</div>
      <div class="stat-value">â‚¬28.50</div>
      <div class="stat-change up">+â‚¬2.10 (8%)</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Success Rate</div>
      <div class="stat-value">98.5%</div>
      <div class="stat-change">â†’ No change</div>
    </div>
  </div>

  <!-- Filters -->
  <div class="filters">
    <div class="filters-row">
      <div class="filter-group">
        <div class="filter-label">Search</div>
        <input type="text" class="filter-input" placeholder="Search merchant or ID...">
      </div>
      <div class="filter-group">
        <div class="filter-label">Category</div>
        <select class="filter-select">
          <option>All Categories</option>
          <option>Grocery</option>
          <option>Restaurant</option>
          <option>Gas Station</option>
          <option>Electronics</option>
          <option>Other</option>
        </select>
      </div>
      <div class="filter-group">
        <div class="filter-label">Date Range</div>
        <select class="filter-select">
          <option>Last 30 days</option>
          <option>Last 7 days</option>
          <option>Last 3 months</option>
          <option>All time</option>
        </select>
      </div>
      <div class="filter-group" style="display:flex;align-items:flex-end">
        <button class="filter-btn">Apply Filters</button>
      </div>
    </div>
  </div>

  <!-- Transactions Table -->
  <div class="transactions-card">
    <table class="transactions-table">
      <thead>
        <tr>
          <th>Merchant</th>
          <th>Category</th>
          <th>Date</th>
          <th>Amount</th>
          <th>Earned</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody id="transactionsBody">
        <!-- Populated by JS -->
      </tbody>
    </table>
  </div>
</main>

<script>
const user=JSON.parse(localStorage.getItem('user')||'{}');
if(user.name)document.getElementById('navAvatar').textContent=user.name[0].toUpperCase();
document.getElementById('navBalance').textContent=(user.luvy_balance||124.70).toFixed(2);

const germanMerchants=[
  {name:'REWE',category:'Grocery',icon:'ðŸ›’'},
  {name:'EDEKA',category:'Grocery',icon:'ðŸ›’'},
  {name:'Lidl',category:'Grocery',icon:'ðŸ›’'},
  {name:'Aldi SÃ¼d',category:'Grocery',icon:'ðŸ›’'},
  {name:'Kaufland',category:'Grocery',icon:'ðŸ›’'},
  {name:'MediaMarkt',category:'Electronics',icon:'ðŸ“±'},
  {name:'Saturn',category:'Electronics',icon:'ðŸ“±'},
  {name:'dm',category:'Healthcare',icon:'ðŸ’Š'},
  {name:'Rossmann',category:'Healthcare',icon:'ðŸ’Š'},
  {name:'Aral',category:'Gas Station',icon:'â›½'},
  {name:'Shell',category:'Gas Station',icon:'â›½'}
];

// Generate transactions
const transactions=[];
for(let i=0;i<25;i++){
  const merchant=germanMerchants[Math.floor(Math.random()*germanMerchants.length)];
  const amount=(Math.random()*50+10).toFixed(2);
  const earned=(amount*0.1).toFixed(1);
  const date=new Date();
  date.setDate(date.getDate()-Math.floor(Math.random()*30));
  
  transactions.push({
    id:'TX-'+Math.random().toString(36).substr(2,9).toUpperCase(),
    merchant:merchant.name,
    category:merchant.category,
    icon:merchant.icon,
    amount:amount,
    earned:earned,
    date:date,
    status:Math.random()>.05?'success':'pending'
  });
}

// Sort by date
transactions.sort((a,b)=>b.date-a.date);

// Render
const tbody=document.getElementById('transactionsBody');
transactions.forEach(tx=>{
  const row=document.createElement('tr');
  row.innerHTML=`
    <td>
      <div class="tx-merchant">
        <div class="tx-icon">${tx.icon}</div>
        <div class="tx-info">
          <div class="tx-name">${tx.merchant}</div>
          <div class="tx-meta">${tx.id}</div>
        </div>
      </div>
    </td>
    <td><span class="tx-category">${tx.category}</span></td>
    <td>${tx.date.toLocaleDateString('de-DE',{day:'2-digit',month:'short',year:'numeric'})}</td>
    <td>â‚¬${tx.amount}</td>
    <td><span class="tx-amount positive">+${tx.earned} LUVY</span></td>
    <td><span class="tx-status ${tx.status}">${tx.status==='success'?'Completed':'Pending'}</span></td>
  `;
  tbody.appendChild(row);
});

function handleLogout(){
  if(confirm('Sign out?')){
    localStorage.clear();
    location.href='login.html';
  }
}
</script>
</body>
</html>
