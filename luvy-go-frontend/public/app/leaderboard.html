<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leaderboard ‚Äì LUVY GO</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes fadeInUp { from{opacity:0;transform:translateY(28px)} to{opacity:1;transform:translateY(0)} }
        @keyframes scaleIn { from{opacity:0;transform:scale(0.88)} to{opacity:1;transform:scale(1)} }
        @keyframes float { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-6px)} }
        @keyframes glowGold { 0%,100%{box-shadow:0 0 16px rgba(234,179,8,.35)} 50%{box-shadow:0 0 32px rgba(234,179,8,.55)} }
        .fade-up { opacity:0; animation:fadeInUp .55s cubic-bezier(.4,0,.2,1) forwards }
        .scale-in { opacity:0; animation:scaleIn .55s cubic-bezier(.4,0,.2,1) forwards }
        .d1{animation-delay:.06s}.d2{animation-delay:.14s}.d3{animation-delay:.22s}.d4{animation-delay:.3s}.d5{animation-delay:.38s}
        .gradient-text{background:linear-gradient(135deg,#a855f7,#f59e0b);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
        .nav-link{position:relative;transition:color .2s}
        .nav-link::after{content:'';position:absolute;bottom:-4px;left:0;width:0;height:2px;background:linear-gradient(90deg,#a855f7,#f59e0b);border-radius:2px;transition:width .3s}
        .nav-link.active::after,.nav-link:hover::after{width:100%}
        .nav-link.active{color:#a855f7;font-weight:600}
        .float{animation:float 3s ease-in-out infinite}
        .glow-gold{animation:glowGold 2.5s infinite}
        .row-hover{transition:all .2s;border:1px solid transparent}
        .row-hover:hover{background:#faf5ff;border-color:#ede9fe;transform:translateX(4px)}
        .you-row{background:linear-gradient(135deg,rgba(168,85,247,.07),rgba(245,158,11,.07));border:2px solid rgba(168,85,247,.35)!important}
        .you-row:hover{background:linear-gradient(135deg,rgba(168,85,247,.12),rgba(245,158,11,.12))!important}
        ::-webkit-scrollbar{width:5px}::-webkit-scrollbar-thumb{background:#e5e7eb;border-radius:3px}
        body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif}
    </style>
</head>
<body class="bg-gray-50 min-h-screen">

<!-- NAV -->
<header class="bg-white border-b border-gray-100 sticky top-0 z-50" style="backdrop-filter:blur(12px);background:rgba(255,255,255,.92)">
    <div class="mx-auto px-6 py-4 flex items-center justify-between" style="max-width:1280px">
        <a href="dashboard.html" class="flex items-center gap-3">
            <div class="w-10 h-10 rounded-xl flex items-center justify-center text-white text-lg font-bold shadow-lg shadow-purple-200" style="background:linear-gradient(135deg,#a855f7,#f59e0b)">L</div>
            <span class="text-xl font-bold gradient-text">LUVY GO</span>
        </a>
        <nav class="flex items-center gap-8">
            <a href="dashboard.html" class="nav-link text-gray-500 hover:text-purple-600">Dashboard</a>
            <a href="upload.html" class="nav-link text-gray-500 hover:text-purple-600">Upload</a>
            <a href="leaderboard.html" class="nav-link active">Leaderboard</a>
            <a href="profile.html" class="nav-link text-gray-500 hover:text-purple-600">Profile</a>
            <div class="flex items-center gap-3 ml-2 pl-4 border-l border-gray-200">
                <div class="flex items-center gap-2 bg-purple-50 px-3 py-1.5 rounded-full border border-purple-100">
                    <span>üíé</span><span class="font-bold text-purple-600 text-sm">1,247</span>
                </div>
                <div class="w-9 h-9 rounded-full flex items-center justify-center text-white text-sm font-bold cursor-pointer hover:scale-105 transition-transform shadow-md" style="background:linear-gradient(135deg,#a855f7,#f59e0b)" id="nav-avatar" onclick="if(confirm('Logout?')){localStorage.clear();location.href='login.html'}">B</div>
            </div>
        </nav>
    </div>
</header>

<main class="mx-auto px-6 py-8" style="max-width:960px">

    <!-- Title -->
    <div class="text-center mb-10 fade-up d1">
        <h1 class="text-5xl font-bold text-gray-800 mb-2">üèÜ Leaderboard</h1>
        <p class="text-gray-500">Top LUVY earners this month</p>
    </div>

    <!-- Podium -->
    <div class="fade-up d2 flex items-end justify-center gap-5 mb-14 px-4">

        <!-- 2nd Place -->
        <div class="scale-in d3 flex flex-col items-center" style="align-self:flex-end;margin-bottom:48px">
            <div class="text-3xl mb-3">ü•à</div>
            <div class="bg-white rounded-2xl shadow-md border border-gray-100 p-5 w-44 text-center relative">
                <div class="absolute -top-5 left-1/2 -translate-x-1/2 w-10 h-10 rounded-full flex items-center justify-center text-white font-bold shadow-md" style="background:linear-gradient(135deg,#94a3b8,#cbd5e1)">M</div>
                <div class="mt-4 font-bold text-gray-800">Mehmet K.</div>
                <div class="text-xl font-bold text-purple-600 mt-1">4,890</div>
                <div class="text-xs text-gray-400 mt-0.5">58 receipts</div>
            </div>
            <div class="w-44 h-20 rounded-b-xl mt-0" style="background:linear-gradient(180deg,#cbd5e1,#94a3b8)"></div>
        </div>

        <!-- 1st Place -->
        <div class="scale-in d2 flex flex-col items-center">
            <div class="text-4xl mb-2 float">üëë</div>
            <div class="bg-white rounded-2xl shadow-xl border-2 border-amber-400 p-6 w-52 text-center relative glow-gold">
                <div class="absolute -top-6 left-1/2 -translate-x-1/2 w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-lg shadow-lg" style="background:linear-gradient(135deg,#eab308,#f59e0b)">A</div>
                <div class="mt-5 text-lg font-bold text-gray-800">Aylin M.</div>
                <div class="text-2xl font-bold text-purple-600 mt-1">5,420</div>
                <div class="text-xs text-gray-400 mt-0.5">67 receipts</div>
            </div>
            <div class="w-52 h-32 rounded-b-xl mt-0" style="background:linear-gradient(180deg,#fbbf24,#f59e0b)"></div>
        </div>

        <!-- 3rd Place -->
        <div class="scale-in d4 flex flex-col items-center" style="align-self:flex-end;margin-bottom:16px">
            <div class="text-3xl mb-3">ü•â</div>
            <div class="bg-white rounded-2xl shadow-md border border-gray-100 p-5 w-44 text-center relative">
                <div class="absolute -top-5 left-1/2 -translate-x-1/2 w-10 h-10 rounded-full flex items-center justify-center text-white font-bold shadow-md" style="background:linear-gradient(135deg,#cd7f32,#e8a854)">Z</div>
                <div class="mt-4 font-bold text-gray-800">Zeynep A.</div>
                <div class="text-xl font-bold text-purple-600 mt-1">3,980</div>
                <div class="text-xs text-gray-400 mt-0.5">52 receipts</div>
            </div>
            <div class="w-44 h-8 rounded-b-xl mt-0" style="background:linear-gradient(180deg,#e8a854,#cd7f32)"></div>
        </div>
    </div>

    <!-- Full Rankings -->
    <div class="fade-up d4 bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
        <div class="flex items-center justify-between mb-5">
            <h3 class="text-lg font-bold text-gray-800">Full Rankings</h3>
            <input type="text" id="searchInput" placeholder="Search users..." class="text-sm px-4 py-2 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none w-48" oninput="filterRankings()">
        </div>

        <!-- Header -->
        <div class="grid grid-cols-12 gap-3 text-xs font-semibold text-gray-400 uppercase tracking-wider px-4 pb-3 border-b border-gray-100">
            <div class="col-span-1 text-center">#</div>
            <div class="col-span-5">User</div>
            <div class="col-span-2 text-right">Tokens</div>
            <div class="col-span-2 text-right">Receipts</div>
            <div class="col-span-2 text-right">Spent</div>
        </div>

        <div id="rankList" class="space-y-1 mt-3"></div>
    </div>
</main>

<script>
const lb=[
    {r:1,n:'Aylin M.',i:'A',tk:5420,rc:67,sp:12400,you:false,g:'from-amber-400 to-amber-600'},
    {r:2,n:'Mehmet K.',i:'M',tk:4890,rc:58,sp:10800,you:false,g:'from-slate-400 to-slate-500'},
    {r:3,n:'Zeynep A.',i:'Z',tk:3980,rc:52,sp:9200,you:false,g:'from-orange-400 to-orange-600'},
    {r:4,n:'Beg√ºm',i:'B',tk:3247,rc:23,sp:4850,you:true,g:'from-purple-500 to-orange-500'},
    {r:5,n:'Okan T.',i:'O',tk:2780,rc:38,sp:7100,you:false,g:'from-emerald-400 to-emerald-600'},
    {r:6,n:'Selin R.',i:'S',tk:2450,rc:31,sp:5900,you:false,g:'from-pink-400 to-pink-600'},
    {r:7,n:'Burak D.',i:'B',tk:2100,rc:28,sp:5200,you:false,g:'from-red-400 to-red-600'},
    {r:8,n:'Deniz L.',i:'D',tk:1890,rc:24,sp:4100,you:false,g:'from-teal-400 to-teal-600'},
    {r:9,n:'Cem Y.',i:'C',tk:1650,rc:19,sp:3600,you:false,g:'from-indigo-400 to-indigo-600'},
    {r:10,n:'Hana S.',i:'H',tk:980,rc:12,sp:2200,you:false,g:'from-amber-400 to-amber-600'}
];

function renderRanks(data){
    const c=document.getElementById('rankList');c.innerHTML='';
    data.forEach((u,i)=>{
        const rCol=u.r===1?'text-amber-600 font-bold':u.r===2?'text-slate-500 font-bold':u.r===3?'text-orange-600 font-bold':'text-gray-400';
        c.innerHTML+=`<div class="grid grid-cols-12 gap-3 items-center px-4 py-3 rounded-xl ${u.you?'you-row':'row-hover'}" style="animation:fadeInUp .35s ease ${i*.06}s both;opacity:0">
            <div class="col-span-1 text-center text-sm ${rCol}">${u.r}</div>
            <div class="col-span-5 flex items-center gap-3">
                <div class="w-9 h-9 rounded-full flex items-center justify-center text-white text-sm font-bold" style="background:linear-gradient(135deg,${u.you?'#a855f7,#f59e0b':'currentColor'})">${u.i}</div>
                <div class="font-semibold text-gray-800 text-sm">${u.n}${u.you?'&nbsp;<span class="text-xs bg-purple-100 text-purple-600 px-2 py-0.5 rounded-full">You</span>':''}</div>
            </div>
            <div class="col-span-2 text-right font-bold text-purple-600 text-sm">${u.tk.toLocaleString()}</div>
            <div class="col-span-2 text-right text-gray-500 text-sm">${u.rc}</div>
            <div class="col-span-2 text-right text-gray-500 text-sm">‚Ç∫${u.sp.toLocaleString()}</div>
        </div>`;
    });
}

// Fix avatar gradient for non-you users
function renderRanks2(data){
    const c=document.getElementById('rankList');c.innerHTML='';
    const gradients={
        'from-amber-400 to-amber-600':'#fbbf24,#d97706',
        'from-slate-400 to-slate-500':'#94a3b8,#64748b',
        'from-orange-400 to-orange-600':'#fb923c,#ea580c',
        'from-purple-500 to-orange-500':'#a855f7,#f59e0b',
        'from-emerald-400 to-emerald-600':'#34d399,#059669',
        'from-pink-400 to-pink-600':'#f472b6,#db2777',
        'from-red-400 to-red-600':'#f87171,#dc2626',
        'from-teal-400 to-teal-600':'#2dd4bf,#0d9488',
        'from-indigo-400 to-indigo-600':'#818cf8,#4f46e5',
    };
    data.forEach((u,i)=>{
        const g=gradients[u.g]||'#a855f7,#f59e0b';
        const rCol=u.r===1?'text-amber-600 font-bold':u.r===2?'text-slate-500 font-bold':u.r===3?'text-orange-600 font-bold':'text-gray-400';
        c.innerHTML+=`<div class="grid grid-cols-12 gap-3 items-center px-4 py-3 rounded-xl ${u.you?'you-row':'row-hover'}" style="animation:fadeInUp .35s ease ${i*.06}s both;opacity:0">
            <div class="col-span-1 text-center text-sm ${rCol}">${u.r}</div>
            <div class="col-span-5 flex items-center gap-3">
                <div class="w-9 h-9 rounded-full flex items-center justify-center text-white text-sm font-bold" style="background:linear-gradient(135deg,${g})">${u.i}</div>
                <div class="font-semibold text-gray-800 text-sm">${u.n}${u.you?' <span class="text-xs bg-purple-100 text-purple-600 px-2 py-0.5 rounded-full">You</span>':''}</div>
            </div>
            <div class="col-span-2 text-right font-bold text-purple-600 text-sm">${u.tk.toLocaleString()}</div>
            <div class="col-span-2 text-right text-gray-500 text-sm">${u.rc}</div>
            <div class="col-span-2 text-right text-gray-500 text-sm">‚Ç∫${u.sp.toLocaleString()}</div>
        </div>`;
    });
}

renderRanks2(lb.slice(3)); // Show ranks 4+

function filterRankings(){
    const q=document.getElementById('searchInput').value.toLowerCase();
    const f=lb.filter(u=>u.n.toLowerCase().includes(q));
    renderRanks2(f.length>0?f:lb.slice(3));
}

const u=JSON.parse(localStorage.getItem('user')||'{}');
if(u.name)document.getElementById('nav-avatar').textContent=u.name[0].toUpperCase();
</script>
</body>
</html>






